<ion-header>
  <ion-toolbar>


    <ion-icon class="back-icon" name="arrow-back-outline" [routerLink]="['/home']"
      routerLinkActive="router-link-active"></ion-icon>
    <span class="header-heading ">Nazma</span>
    <ion-icon class="search-icon" slot="end" name="call"></ion-icon>
    <ion-icon class="play-icon" name="play-sharp" slot="end" (click)="start_speak()"></ion-icon>
    <ion-icon class="three-dots" slot="end" name="ellipsis-vertical-outline" (click)="popover($event)"></ion-icon>

  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row *ngFor="let message of messages">
      <ion-col class="message other-message" size="9" *ngIf="currentUser!==message.user">
        <!-- <b>{{message.user}}</b><br> -->
        <span>{{message.msg}}</span>
        <div class="time" text-right><br>
          {{message.createdAt | date:'short'}}
        </div>
      </ion-col>

      <ion-col class="message my-message" offset="3" size="9" *ngIf="currentUser === message.user">
        <!-- <b>{{message.user}}</b><br> -->
        <span>{{message.msg}}</span>
        <div class="time" text-right><br>
          {{message.createdAt | date:'short'}}

        </div>
        <!-- <h3>{{texts}}</h3> -->
      </ion-col>
    </ion-row>
  </ion-grid>


</ion-content>
<ion-footer>
  <ion-toolbar color="light">
    <ion-row align-items-center no-padding>
      <ion-col size="10">
        <textarea autosize maxRows="4" [(ngModel)]="newMsg" class="message-input"></textarea>
      </ion-col>

      <ion-col size="2">
        <ion-button (click)="sendMessage()" expand="block" fill="clear" class="msg-btn">
          <ion-icon [name]=" newMsg ? 'send' : 'mic-sharp'" :(click)="sendMessage()"></ion-icon>


          <!-- <ion-icon name="send" slot="icon-only" [disabled]="newMsg===''"></ion-icon> -->

        </ion-button>


      </ion-col>

    </ion-row>

  </ion-toolbar>
</ion-footer>